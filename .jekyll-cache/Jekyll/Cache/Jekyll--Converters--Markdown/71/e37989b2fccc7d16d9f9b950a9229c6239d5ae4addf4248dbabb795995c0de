I"ë<h3 id="ä»‹ç»">ä»‹ç»</h3>

<p>è®°å½•ä¸€ä¸ª AppleAppSiteAssociation çš„å‘å¸ƒå†ç¨‹å§ï¼Œæ€»ç»“ä¸€ä¸‹ä¸­é—´çš„ç»éªŒæ•™è®­ã€‚</p>

<h4 id="é…ç½®æµç¨‹">é…ç½®æµç¨‹</h4>

<p>https://developer.apple.com/documentation/safariservices/supporting_associated_domains</p>

<p>åŸºæœ¬æŒ‰ç…§æµç¨‹èµ°å³å¯ï¼Œå‘ä½åœ¨ä¸‹è¾¹â€¦</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "applinks": {
      "details": [
           {
             "appIDs": [ "ABCDE12345.com.example.app", "ABCDE12345.com.example.app2" ],
             "components": [
               {
                  "#": "no_universal_links",
                  "exclude": true,
                  "comment": "Matches any URL whose fragment equals no_universal_links and instructs the system not to open it as a universal link"
               },
               {
                  "/": "/buy/*",
                  "comment": "Matches any URL whose path starts with /buy/"
               },
               {
                  "/": "/help/website/*",
                  "exclude": true,
                  "comment": "Matches any URL whose path starts with /help/website/ and instructs the system not to open it as a universal link"
               },
               {
                  "/": "/help/*",
                  "?": { "articleNumber": "????" },
                  "comment": "Matches any URL whose path starts with /help/ and which has a query item with name 'articleNumber' and a value of exactly 4 characters"
               }
             ]
           }
       ]
   },
   "webcredentials": {
      "apps": [ "ABCDE12345.com.example.app" ]
   },
    "appclips": {
        "apps": ["ABCED12345.com.example.MyApp.Clip"]
    }
}
</code></pre></div></div>

<h4 id="app-prefix">App-Prefix</h4>

<p><strong>ABCED12345</strong>.com.example.MyApp.Clip</p>

<p>å¯èƒ½ Developer è´¦å·ç»å†äº†è¿ç§»ï¼Œæ–°çš„è´¦å· ID åŒæ—¶æ”¯æŒ mac å’Œ iOS ç­‰åº”ç”¨ã€‚</p>

<p>è¿™ä¸ªæ—¶å€™å°±éœ€è¦åˆ°ç½‘ç«™ä¸Šçœ‹å…·ä½“çš„ bundle-id çš„ App-Prefix <strong>ï¼ˆä¸ä¸€å®šæ˜¯è´¦å· IDï¼‰</strong>ã€‚</p>

<h4 id="debug">Debug</h4>

<p>https://ios13.dev/universal-links-debugging-on-ios-13-cjwsux93w001p6ws1swtstmzc</p>

<ol>
  <li>json éƒ¨ç½²</li>
</ol>

<p>æ€ä¹ˆçŸ¥é“æ–‡ä»¶éƒ¨ç½²å¥½äº†æ²¡æœ‰ï¼ŒåŸºæœ¬ä¸Šæ˜¯çœ‹ json èƒ½å¦è¢«è®¾å¤‡æˆåŠŸè§£æã€‚é™¤äº†<strong>https</strong>çš„è¦æ±‚å¤–ï¼Œè¿˜è¦æ±‚<strong>å½“å‰è®¾å¤‡æ‰€å¤„çš„ç½‘ç»œç¯å¢ƒæ— é‡å®šå‘ï¼Œè´¦æˆ·éªŒè¯ç­‰</strong>ã€‚</p>

<p>ä¾‹å¦‚ä¸‹è¾¹çš„å‘½ä»¤æ˜¯ç”¨æ¥éªŒè¯æœåŠ¡ç«¯éƒ¨ç½²çš„ï¼Œå°±ä¾èµ–ç”µè„‘çš„ç½‘ç»œç¯å¢ƒã€‚</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -I https://www.uber.com/.well-known/apple-app-site-association
</code></pre></div></div>

<ol>
  <li>æ‰‹æœºæˆåŠŸè§£æ json å’Œè·³è½¬log</li>
</ol>

<ul>
  <li>åœ¨ <strong>app å®‰è£…</strong>çš„æ—¶å€™ï¼ˆé€šè¿‡å„ç§é€”å¾„å®‰è£…ï¼Œéå¯åŠ¨ï¼‰ä¼šä¸‹è½½å’Œé…ç½® json æ•°æ®ã€‚</li>
  <li>åœ¨ç‚¹å‡» universal-link çš„æ—¶å€™ä¼šæœ‰å…¶ä»–logã€‚</li>
</ul>

<p>è¿™æ—¶å€™ä¸ºäº†éªŒè¯è®¾ç½®çš„ json æ˜¯å¦å·²ç»è¢«æ‰‹æœºè®¤å¯ï¼Œå°±å¯ä»¥çœ‹ä¸‹è®¾å¤‡çš„ logï¼Œæœ‰ä¸¤ç§æ–¹å¼ã€‚</p>

<ul>
  <li>æ‰“å¼€ Console.ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">apple-app-site-association</code> æˆ–è€…ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">swcd</code> åšæœç´¢ã€‚</li>
  <li>æŸ¥çœ‹æ‰‹æœºæ—¥å¿— <code class="language-plaintext highlighter-rouge">sysdiagnose_YYYY.MM.DD_HH-MM-SS-XXâ€¦</code> ä¸­çš„ <code class="language-plaintext highlighter-rouge">swcutil_show.txt</code> æ–‡ä»¶ã€‚</li>
</ul>

<blockquote>
  <p>è¿˜å¯ä»¥é€šè¿‡ sysdiagnose çš„æ—¥å¿—æ¥æŸ¥çœ‹ã€‚ https://download.developer.apple.com/iOS/iOS_Logs/sysdiagnose_Logging_Instructions.pdfã€‚
log åœ¨ iOS è®¾å¤‡çš„ <code class="language-plaintext highlighter-rouge">Settings &gt; Privacy &gt; Analytics &gt; Analytics Data &gt;</code> åå­—æ˜¯  <code class="language-plaintext highlighter-rouge">sysdiagnose_YYYY.MM.DD_HH-MM-SS-XXâ€¦</code>ã€‚è¿˜æé†’ä¸€ä¸‹çš„æ˜¯ï¼Œè¿™æ˜¯ä¸€ä»½å®Œæ•´çš„è®¾å¤‡æ—¥å¿—ï¼ˆå¤§æ¦‚500M+ï¼‰ï¼Œéœ€è¦åœ¨ç”µè„‘ä¸ŠæŸ¥çœ‹è¯¦æƒ…ã€‚</p>
</blockquote>

<h5 id="å…³äºæ—¥å¿—">å…³äºæ—¥å¿—</h5>

<p><code class="language-plaintext highlighter-rouge">Settings.app &gt; Privacy &gt; Analytics &gt; Analytics Data</code></p>

<p>é€šå¸¸çš„ App crash æ—¥å¿—ä¹Ÿæ˜¯æ”¾åœ¨è¿™é‡Œï¼Œé€šè¿‡å¯¼å‡ºæ—¥å¿—ï¼Œç„¶åä½¿ç”¨ *.dsym æ–‡ä»¶å³å¯åç¬¦å·åˆ°ç›¸åº”çš„ä»£ç æå‡ã€‚</p>

<h4 id="å¤š-domain-ä½¿ç”¨äº†åŒä¸€ä¸ª-json">å¤š domain ä½¿ç”¨äº†åŒä¸€ä¸ª json</h4>

<p>æ²Ÿé€šä¸­å‘ç°ï¼Œæˆ‘ä»¬å½“å‰æœåŠ¡ç«¯æœ‰å¤šä¸ª domain æœ€ç»ˆä½¿ç”¨äº†åŒä¸€ä¸ª json fileã€‚</p>

<p>æ‰€æœ‰çš„ app bundle id éƒ½è¢«æ­£ç¡®çš„é…ç½®äº†ã€‚æœåŠ¡ç«¯è™½ç„¶åœ¨ä¸åŒçš„ domainï¼Œä½†æ˜¯å®¢æˆ·ç«¯æ ¹æ® domain åšåç»­çš„äº‹æƒ…ï¼Œæ‰€ä»¥æ¯ä¸ªappéƒ½èƒ½æ­£ç¡®çš„å·¥ä½œï¼Œæ²¡æœ‰é—®é¢˜ã€‚</p>

<p><strong>ä¹Ÿå°±æ˜¯è¯´ json ä¸­çš„éæœ¬åº”ç”¨ bundleid çš„éƒ¨åˆ†è¢«å¿½ç•¥äº†ã€‚</strong></p>

<h4 id="å€ŸåŠ©åšå®¢ç½‘ç«™éªŒè¯-json">å€ŸåŠ©åšå®¢ç½‘ç«™éªŒè¯ json</h4>

<p>é€šå¸¸åç«¯çš„å‘å¸ƒéƒ½æ˜¯æœ‰å‘¨æœŸçš„ï¼Œé‚£ä¹ˆä¸ºäº†æå‰éªŒè¯ json æ˜¯å¦æ­£ç¡®ï¼Œå°±å¯ä»¥æ‰¾ä¸ªç½‘ç«™è¿›è¡ŒéªŒè¯ã€‚ä¾‹å¦‚ firebase çš„ <code class="language-plaintext highlighter-rouge">pagelink</code> ç­‰ã€‚ä½†æ˜¯æœ‰æ›´å¥½çš„æ–¹å¼ï¼Œä½¿ç”¨ <code class="language-plaintext highlighter-rouge">github.io</code> åšå®¢ç½‘å€çš„ domain ä¹Ÿå¯ä»¥æ–¹ä¾¿çš„éªŒè¯ json æ˜¯å¦æ­£ç¡®ã€‚</p>

<blockquote>
  <p>é…ç½® json åˆ°èƒ½è®¿é—®çš„ä½ç½®å³å¯ï¼Œæˆ–è€… 404 çš„pageï¼Œå“ˆå“ˆå“ˆã€‚</p>
</blockquote>

<h4 id="è·³è½¬">è·³è½¬</h4>

<p>å½“ä¸€åˆ‡éƒ½æå¥½ä¹‹åï¼Œå°±å¯ä»¥æµ‹è¯• link çš„ path äº†ï¼Œä½¿ç”¨è”ç³»äººçš„ä¸ªäººç½‘ç«™ï¼ŒNotes ç­‰éƒ½å¯ä»¥æµ‹ã€‚</p>

<h4 id="çŸ­é“¾æ¥">çŸ­é“¾æ¥</h4>

<p>æµ‹è¯•ä¸­é‚®ä»¶æœ‰å‘é€çŸ­é“¾æ¥ï¼Œç»è¿‡é‡å®šå‘ç„¶ååˆ°è¾¾æŒ‡å®š urlï¼š</p>

<p>è¿™ç§æƒ…å†µåœ¨ iOS æ²¡æ³•æ­£å¸¸çš„å·¥ä½œã€‚</p>

<blockquote>
  <p>android å¯ä»¥ã€‚ğŸ˜‚</p>
</blockquote>

<h3 id="æœ€å">æœ€å</h3>

<p>æ–‡ç« ä¸»è¦æ˜¯å°†äº†ä¸€äº›å‘ç‚¹ï¼Œå…·ä½“çš„æ–‡æ¡£å¤§æ¦‚ä»‹ç»äº†ä¸€ä¸‹ã€‚å¯¹åˆæ¬¡é…ç½®çš„å°ä¼™ä¼´åº”è¯¥å¸®åŠ©æ¯”è¾ƒå¤§ï¼Œçœ‹ä¸€ä¸‹è¿™äº›å¥‡æŠ€æ·«å·§å¯ä»¥çœå¾ˆå¤šæ—¶é—´ã€‚</p>
:ET