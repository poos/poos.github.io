---
layout:     post
title:      Note - 记录一些 Swift 相关的知识
hide-in-nav: true
subtitle:   只有问题，没有答案
date:       2021-07-10
author:     poos
header-img: img/post-bg-2015.jpg
catalog: true
tags:
- Notes
---

> 从同事分享摘抄出来的一些 Swift 问题，列举一下

### 基础

- Swift成为了一门动态静态语言？ 从那些地方体现静态？
- Swift 编译流程 Clang LLVM （code-AST-IL-IL-IR- Assembly- Executable）
- 生成语法书命令/生成简洁SIL代码/生成LLVM-IR代码/生成汇编代码
- 汇编语言 内存赋值/取内存地址/jmp指令/常用的寄存器及用途 rax rip rbp
- LLDB的常用指令 读取修改寄存器/ 修改修改内存的值/执行表达式/跳过一行/跳过跳进函数 
- 一个函数最多只能有一个可变参数
- 可选项的本质？自动闭包--空合并运算符
-  闭包是什么？
- 尾随闭包？ 逃逸闭包？ 自动闭包？ 
- 空值合并运算符 如果前面的条件是ture 会调用??之后的函数吗？ 为什么？
- 用过自定义下标？在那些场合？
- struct enum 支持继承吗？ 为什么？
- struct enum 支持extension吗？
- Any AnyObject的区别？
- AnyClass self, Self, x.self, x.Self, x.Type 的区别？ 使用场景？
-  如何实现 可选协议方法
-  不透明类型与协议类型作为返回值的区别？
-  简述Swift两段式初始化？ 如何确保内存安全？
-  访问级别？open/public区别，private/file private区别？
-  程序内存分区地址讲解简单画一下？
- 继承--子类/父类为何不能定义相同的方法名
- 继承--子类父类的方法调用原理，与OC 的区别
- 范型，如何做到不同类型调用相同的方法
- @objc 关键字的意义？
- @dynamic关键字的意义？
- Swift 如何实现 KVC/KVO？
- extension中可以添加属性吗？ 存储属性？ 计算属性？
- Swift extension 如何 添加存储属性？
- Swift内的指针类型？ 定义指针，通过对象指针访问属性？
- 高阶函数？ curry化？
- map flatMap compactMap的区别？
- OOP / POP 优缺点？ 项目中是如何用到的？
- Swift 的Dictionary 是线程安全的吗？ 你是如何做到保证多线程访问不Crash的？
- Swift锁 有哪些？ 谁的性能最高？分别用在什么场合？

### 进阶

- 枚举-原始值关联值的内存大小 实际用到的大小/ 对齐方式 / 分配的内存大小
- 枚举-关联值原始值的内存结构？关联Class类型/协议/嵌套枚举/都有的情况下？
- 枚举为什么不可以定义存储属性？
- 结构体的内存布局？
- 为什么加了mutation 就可以修改 结构体值了？
- copy on write 的原理是什么？
- Swift-String的内存结构？ 定义时长度大于小于16，append之后长度超过16时又存储在哪里？后8个字节指向存储字符的地址吗？
- Swift-Array内存结构？
- 计算属性 占用类和结构体存储空间吗？ 存储在什么内存的什么区域？
- 类型存储属性 存储位置内存哪个区域？
- Static关键字 和Class关键字的区别？ final关键字有什么作用？为什么？
- Static关键字修饰全局变量初始化未使用时 存储在那个区？（全局初始化区/全局未初始化区/不存储）
-  var 再全局区域内定义变量并初始化赋值为10， 并没有使用，存储在那个区域（全局初始化区/全局未初始化区）
- 代码编译期 如何消除方法返回值未使用 而引起的黄色警告？
- 子类继承父类的内存分布，属性和方法的内存分布
- Swift extension种添加的方法 存储在那些地方 ，调用方法的机制是什么？ 动态派发还是静态派发？
- Class类型中 方法调用有几种方式（虚表 / 硬编码 / 消息转发/ 内联调用）四种机制，分别是什么时候用到
- 正常定义的方法是如何调用的，
- 加上@objc dynamic 又是如何调用的，
- extension中是如何调用的
- extension中只加@objc 方法是如何调用的？
- final class 下方法是如何调用的？
- 继承自OC UIKit的类，继承自UIKit的方法是如何调用的？ 新添加的一些方法又是如何调用的？比如configUI()
- 子类派生类可以重写Extension定义的方法吗？ 为什么？
- Swift消息调用不再传递Objc，只有方法参数，那是如何做到传递objc-isa的？ 
- 虚函数表函数调用索引是编译时确定的，通过虚函数表的索引拿到函数地址，call函数地址，那如何实现多态？
- Swift类成员（非自OC的类）是如何访问变量的？ OC的类是如何访问成员变量的？
- OC如何调用Swift类的方法，消息转发机制如何能调用虚函数表调用机制的？
- 打开 编译链接优化选项开关时Release下又是如何调用的？ 有如何作用？
